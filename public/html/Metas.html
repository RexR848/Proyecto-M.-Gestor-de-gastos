<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gestor de Gastos - Metas</title>
  <link rel="stylesheet" href="../css/FEstyles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magic/1.1.0/magic.min.css" />
</head>
<body>

  <header class="header">
    <div class="logo-title">
      <img src="../resources/Logo_Gestor_de_datos.png" alt="Logo" class="logo" />
      <h1 class="magictime puffIn">Gestor de gastos</h1>
    </div>
    <button class="menu-btn" onclick="toggleSidebar()">☰</button>
  </header>

  <div class="divider"></div>

  <main class="card">
    <h2 class="title">Mis Metas Financieras</h2>
    <button class="btn" id="nueva-meta-btn" style="margin-bottom: 15px;">+ Nueva meta</button>
    
    <!-- 📊 Resumen -->
    <div id="resumen-metas" class="info-block">
      <h3>📊 Resumen de mis metas</h3>
      <p>Total a alcanzar: <span id="total-metas" class="dato-numero">0.00</span></p>
      <p>Total ahorrado: <span id="total-actual" class="dato-numero">0.00</span></p>
      <p>Avance global: <span id="porcentaje-global" class="dato-numero">0%</span></p>
      <div style="background:#444; border-radius:8px; overflow:hidden; margin-top:10px;">
        <div id="barra-global" style="width:0%; height:14px; background:#4aa3ff;"></div>
      </div>
    </div>

    <div id="metas-container"></div>
  </main>

  <!-- Sidebar -->
  <nav id="sidebar" class="sidebar">
    <button class="close-btn" onclick="toggleSidebar()">×</button>
    <ul class="nav-list">
      <li><a href="Finanzas.html">🏠 Inicio</a></li>
      <li><a href="Finanzas_editar.html">✏️ Editar</a></li>
      <li><a href="Reportes.html">📊 Reportes</a></li>
      <li><a href="Metas.html">🏁 Metas</a></li>
      <li><a href="config.html">⚙️ Ajustes</a></li>
      <li><a href="acerca.html">🗣️ Acerca de</a></li>
      <li><a href="#" id="logout-link">🚪 Cerrar sesión</a></li>
    </ul>
  </nav>

  <div id="overlay" class="overlay"></div>

  <!-- Popup cerrar sesión -->
  <div id="logout-popup" class="popup">
    <p>¿Seguro que quieres cerrar sesión?</p>
    <div class="popup-buttons">
      <button class="cancel-btn" id="cancelar-sesion-btn">Cancelar</button>
      <button class="confirm-btn" id="confirmar-sesion-btn">Cerrar sesión</button>
    </div>
  </div>

  <!-- Popup crear/editar meta -->
  <div id="popup" class="popup">
    <h3 id="popup-title">Meta</h3>

    <label for="popup-nombre">Nombre de la meta</label>
    <input type="text" id="popup-nombre" placeholder="Nombre de la meta" />

    <label for="popup-actual">Cantidad actual</label>
    <input type="number" id="popup-actual" placeholder="Cantidad actual" />

    <label for="popup-meta">Monto meta</label>
    <input type="number" id="popup-meta" placeholder="Monto meta" />

    <div class="popup-buttons">
      <button class="cancel-btn" id="cancelar-meta-btn">Cancelar</button>
      <button class="confirm-btn" id="guardar-meta-btn">Guardar</button>
    </div>
  </div>

  <script src="../js/Metas.js"></script>
</body>
</html>
